<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0" />
    <title>The Daily Rampy | Direct Test</title>

    
    <script async defer src="https://ats-wrapper.privacymanager.io/ats-modules/d9e0200a-7c46-45aa-8059-a7259b6344c6/ats.js"></script>


    <!-- CSS  -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="css/materialize.css" type="text/css" rel="stylesheet" media="screen,projection" />
    <link href="css/style.css" type="text/css" rel="stylesheet" media="screen,projection" />
</head>

<body>
    <nav class="light-blue lighten-1" role="navigation">
        <div class="nav-wrapper container"><a id="logo-container" href="#" class="brand-logo">TheDailyRampy</a>
            <ul class="right hide-on-med-and-down">
                <li><a href="./index.html">Navbar Link</a></li>
            </ul>

            <ul id="nav-mobile" class="sidenav">
                <li><a href="#">Navbar Link</a></li>
            </ul>
            <a href="#" data-target="nav-mobile" class="sidenav-trigger"><i class="material-icons">menu</i></a>
        </div>
    </nav>

    <div class="section no-pad-bot" id="index-banner">
        <div class="container">
            <br><br>
            <h1 class="header center orange-text">Validating ATS Direct</h1>
            <div class="row center">
                <h5 class="header col s12 light">Sign up and view more of our (mock) articles</h5>
            </div>
            <br><br>
            <div class="row">
                <form id="direct-form" class="col s12">
                    <div class="row">
                        <div class="input-field col s12">
                            <input id="email" type="email" class="validate">
                            <label for="email">Email</label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="input-field col s12">

                            <button class="btn waves-effect waves-light" type="submit" name="action">Submit
                                <i class="material-icons right">send</i>
                            </button>
                        </div>
                    </div>
                </form>
            </div>

            <div class="row">
                <button onclick="fetchAtsDirectSegments()" class="btn waves-effect waves-light" type="submit" name="action">Fetch Segments
                    <i class="material-icons right">cloud</i>
                </button>
            </div>

        </div>
    </div>

    <footer class="page-footer orange">
        <div class="container">
            <div class="row">
                <div class="col l6 s12">
                    <h5 class="white-text">Company Bio</h5>
                    <p class="grey-text text-lighten-4">Lorem ipsum dolor sit amet consectetur adipiscing elit ad morbi,
                        enim rhoncus mattis lacus sociis ante platea augue auctor sodales, nunc egestas eget porttitor
                        etiam tellus sagittis eleifend. Proin sed senectus torquent enim accumsan purus, blandit iaculis
                        nibh porttitor sapien gravida nunc, habitasse convallis dapibus feugiat nisi. Taciti cum
                        molestie felis aenean ultrices accumsan litora aptent primis, ligula nascetur suspendisse vel
                        justo fames eget tempor, netus quisque penatibus nulla tincidunt lobortis dictum nisl.

                    </p>


                </div>
                <div class="col l3 s12">
                    <h5 class="white-text">Settings</h5>
                    <ul>
                        <li><a class="white-text" href="#!">Link 1</a></li>
                        <li><a class="white-text" href="#!">Link 2</a></li>
                        <li><a class="white-text" href="#!">Link 3</a></li>
                        <li><a class="white-text" href="#!">Link 4</a></li>
                    </ul>
                </div>
                <div class="col l3 s12">
                    <h5 class="white-text">Connect</h5>
                    <ul>
                        <li><a class="white-text" href="#!">Link 1</a></li>
                        <li><a class="white-text" href="#!">Link 2</a></li>
                        <li><a class="white-text" href="#!">Link 3</a></li>
                        <li><a class="white-text" href="#!">Link 4</a></li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="footer-copyright">
            <div class="container">
                Made with <a class="orange-text text-lighten-3" href="http://materializecss.com">Materialize</a>
            </div>
        </div>
    </footer>


    <!--  Scripts-->
    <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <script src="js/materialize.js"></script>
    <script src="js/init.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {

            var form = document.getElementById("articleForm");
            var email = document.getElementById("email");
            form.addEventListener('submit', doSubmit)


            function doSubmit(e) {
                console.log("submitting form...canceling propogation:", e)
                console.log("Email captured is:", email.value);
                e.preventDefault();
            }


        });



        async function fetchAtsDirectSegments(){

            let segments;

            try {
                segments = await ats.getSegmentsData();
                console.log("We got response:", segments);
                alert("Segments from appliance: " + JSON.stringify(segments));
            }catch (e) {
                console.error("Failed to fetch ATS Direct segment: ", e)
            }

            return segments;

        }
    </script>

</body>

</html>